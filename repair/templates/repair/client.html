{% extends "repair/base.html" %}
{% load staticfiles %}

{% block top_menu %}
  {% include "includes/top_menu.html" %}
{% endblock %}


{% block sidebar_action %}
  {% include "includes/action_menu.html" with menu_set="2" %}
{% endblock %}

{% block sub_header_progress_bar %}
    {% if messages %}
      {% for message in messages %}
        <p>
          <div class="alert alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            {{ message }}
          </div>
        </p>
      {% endfor %}
    {% endif %}
  <h2 class="sub-header">Клиенты</h2>
{% endblock %}

{% block table_main %}
  <div class="table-responsive">
    <table class="table table-hover table-striped tablesorter" id="table">
      <thead>
        <th>№ п/п</th>
        <th>Клиент</th>
        <th>Контакты клиента</th>
        <th>Корпоративный клиент</th>
      </thead>

      {% for client in clients %}
      <tr>
        <td><a href="{% url 'repair:client_detail' client_id=client.id %}">{{ client.id }}</a></td>
        <td>{{ client.client_name }}</td>
        <td>{{ client.client_contact }}</td>
        {% if client.client_corp %}
          <td><img alt="Yes" src="{% static 'repair/img/yes.svg' %}" /></td>
        {% else %}
          <td><img alt="No" src="{% static 'repair/img/no.svg' %}" /></td>
        {% endif %}
      </tr>
      {% endfor %}
    </table>
  </div>
{% endblock %}

<!--
{% block pagination %}
{% if paginator.num_pages > 1 %}
<div class="text-center">
  <ul class="pagination text-center">
    {% if page_obj.has_previous %}
      <li><a href="{% url 'repair:clients' %}?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><a href="#">&laquo;</a></li>
    {% endif %}
    {% for pn in paginator.page_range %}
      {% if page_obj.number == pn %}
        <li class="active"><a href="{% url 'repair:clients' %}?page={{ pn }}"> {{ pn }} <span class="sr-only">(current)</span></a></li>
      {% else %}
        <li><a href="{% url 'repair:clients' %}?page={{ pn }}"> {{ pn }}</a></li>
      {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
      <li><a href="{% url 'repair:clients' %}?page={{ page_obj.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><a href="#">&raquo;</a></li>
    {% endif %}
  </ul>
</div>
{% endif %}
{% endblock %}
-->

{% block script_block %}
  <script src="{% static 'repair/js/jquery.tablesorter.js' %}"></script>
  <script src="{% static 'repair/js/tab_sort.js' %}"></script>
{% endblock %}
